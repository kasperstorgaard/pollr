<template>
    <require from="../../../shared/components/poll/poll-component"></require>
    <section class="section--center mdl-grid mdl-grid--no-spacing">
        <div class="mdl-cell mdl-cell--8-col"
            style="padding: 16px; background: white"
        >
            <h3>Create a poll</h3>
            <div>
                <div class="mdl-textfield mdl-textfield--full-width
                    mdl-js-textfield"
                >
                    <input class="mdl-textfield__input"
                        type="text"
                        id="name"
                        value.two-way="poll.name">
                    <label class="mdl-textfield__label"
                        for="name"
                    >name...</label>
                </div>
            </div>
            <h4>options</h4>
            <div repeat.for="option of poll.options">
                <div class="mdl-textfield mdl-textfield--full-width
                    mdl-js-textfield"
                >
                    <input class="mdl-textfield__input"
                        type="text"
                        id="option"
                        value.two-way="option.name"
                    >
                </div>
            </div>
            <div style="display: flex">
                <div class="mdl-textfield mdl-js-textfield"
                    style="flex-grow: 1"
                >
                    <input class="mdl-textfield__input"
                        type="text"
                        id="option"
                        value.two-way="newOption"
                    >
                    <label class="mdl-textfield__label"
                        for="option"
                    >option name...</label>
                </div>
                <button bind.if="!option.id"
                    click.trigger="addOption(newOption)"
                    class="mdl-button mdl-js-button mdl-button--fab
                    mdl-button--mini-fab mdl-button--colored mdl-js-ripple-effect"
                    style="margin-left: 32px"
                >
                    <i class="material-icons">add</i>
                </button>
            </div>
            <button class="mdl-button mdl-button--raised
                mdl-js-button mdl-js-ripple-effect"
                style="margin-top: 32px"
                click.trigger="create(poll)"
            >Create</button>
        </div>
        <poll-component
            class="mdl-card mdl-cell mdl-cell--4-col"
            poll.bind="poll"
        ></poll-component>
    </section>
</template>